<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ page import="com.zumbaapp.servlet.db.DB, com.zumbaapp.servlet.model.Participant" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Edit Participant</title>
</head>
<body>
        <%
            try {
                int id = Integer.parseInt(request.getParameter("id"));
                DB db = new DB();
                Participant participant = db.fetchParticipant(id);
                if (participant != null) {
        %>
                    <form action='SaveEditedParticipants' method='post'>
                        <table>
                            <tr><td><input type='hidden' name='id' value='<%= participant.id %>' /></td></tr>
                            <tr><td>Name:</td><td><input type='text' name='firstName' value='<%= participant.firstName %>'/></td></tr>
                            <tr><td>Session:</td><td><input type='text' name='lastName' value='<%= participant.lastName %>'/></td></tr>
                            <tr><td>Date:</td><td><input type='text' name='email' value='<%= participant.email %>'/></td></tr>
                            <tr><td>Start Time:</td><td><input type='text' name='phone' value='<%= participant.phone %>'/></td></tr>
                            <tr><td>End Time:</td><td><input type='text' name='zumbaClass' value='<%= participant.zumbaClass %>'/></td></tr>
                            <tr><td colspan='2' style='text-align:center;'><input type='submit' value='Save'/></td></tr>
                        </table>
                    </form>
        <%
                } else {
                    out.println("<p>Participant not found.</p>");
                }
            } catch (NumberFormatException e) {
                out.println("<p>Error: Invalid ID format.</p>");
            }
        %>
</body>
</html>